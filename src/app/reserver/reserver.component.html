<h1>Réserver un véhicule</h1>
<table class="table">
    <tr>
        <th>Covoiturage</th>
    </tr>
</table>
<div class="jumbotron">
        <p>Critères</p>
        
        <div class="form-group row">
            <label for="depart" class="col-sm-2 col-form-label">Adresse de départ</label>
            <div class="col-sm-2">
                <input type="text" class="form-control" id="depart" [(ngModel)]="addressInput" (ngModelChange)="updateInput()">
            </div>
            <label for="arriver" class="col-sm-2 col-form-label">Adresse de destination</label>
            <div class="col-sm-2">
                <input type="text" class="form-control" id="arriver">
            </div>
            <label for="duree" class="col-sm-2 col-form-label">Durée du trajet</label>
            <div class="col-sm-2">
                <input type="text" readonly class="form-control" id="duree" value="x h xx mn">
            </div>
        </div>
        <div class="form-group row">
            <label for="dateDepart" class="col-sm-2 col-form-label">Date de départ</label>
            <div class="col-sm-3">
                <input type="date" class="form-control" id="dateDepart">
            </div>
            <label for="distance" class="col-sm-2 col-form-label offset-md-3">Distance</label>
            <div class="col-sm-2">
                <input type="text" readonly class="form-control" id="distance" value="250km">
            </div>
        </div>
        <button  (click)="selectVille()">test service</button>
        Depart :
            {{villeDepart}}

    <p (click)="test.toggle()" mdbWavesEffect>Covoiturages</p>
    <div class="" [mdbCollapse]="isCollapsed" #test="bs-collapse">
        <form (ngSubmit)="submit()">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Date/Heure</th>
                        <th scope="col">Départ</th>
                        <th scope="col">Destination</th>
                        <th scope="col">Véhicule</th>
                        <th scope="col">Chauffeur</th>
                        <th scope="col">Place disponibles</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody *ngFor="let annonce of annonces">
                    <tr>
                        <td scope="row" class="align-middle">{{annonce.depart}}</td>
                        <td scope="row" class="align-middle">{{annonce.adresse_depart.ville}}</td>
                        <td scope="row" class="align-middle">{{annonce.adresse_arriver.ville}}</td>
                        <td scope="row" class="align-middle">{{annonce.vehicule}}</td>
                        <td scope="row" class="align-middle">{{annonce.chauffeur}}</td>
                        <td scope="row" class="align-middle">{{annonce.place}}</td>
                        <td scope="row">
                            <button type="submit" value="{{annonce.id}}}" class="btn btn-primary" *ngIf="annonce.place > 0;else noReservation">Réserver</button>
                            <ng-template #noReservation>
                                    <button type="submit" value="{{annonce.id}}}" class="btn btn-primary" disabled="disabled" >Réserver</button>
                            </ng-template>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>
</div>